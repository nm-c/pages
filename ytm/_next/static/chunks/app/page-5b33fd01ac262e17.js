(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2505:function(e,t,r){Promise.resolve().then(r.bind(r,4105))},4105:function(e,t,r){"use strict";r.r(t),r.d(t,{FilterDurationContext:function(){return E},default:function(){return Y},filterDurationDefault:function(){return A}});var a,s,n=r(7437),l=r(2265),i=r(504),o=r(7922),c=r(4769),d=r(4676);let u=e=>Number(Math.expm1(e).toFixed(1)),m=e=>Math.log1p(e),x=e=>({value:m(e),label:e.toString()}),p=e=>({min:u(e[0]),max:u(e[1])}),f=e=>[m(e.min),m(e.max)];var h=()=>{let{filterDuration:e,setFilterDuration:t}=(0,l.useContext)(E);if(!e||!t)return;let r=[0,.5,1,2,3,5,10,20,30,50].map(e=>x(e));return(0,n.jsx)("div",{className:"hidden w-fit border border-gray-300 px-7 py-2 rounded-xl divide-y divide-gray-200",children:(0,n.jsxs)("dl",{className:"w-full flex flex-col gap-3 py-5",children:[(0,n.jsxs)("dt",{className:"text-gray-800 text-sm",children:[(0,n.jsx)(i.G,{icon:o.G_j,className:"inline-block w-3 h-3 mr-1 text-gray-800"}),"듀레이션: ",e.min," ~ ",e.max]}),(0,n.jsx)("dd",{className:"p-2",children:(0,n.jsx)(d.ZP,{value:f(e),step:m(.1)/5,min:m(A.min),max:m(A.max),marks:r,scale:u,onChange:(e,r)=>{"number"==typeof r||t(p(r))},valueLabelDisplay:"auto",size:"small"})}),(0,n.jsxs)("dd",{className:"flex flex-row gap-4 text-gray-800 text-sm",children:[(0,n.jsx)("button",{onClick:()=>t(A),className:"px-2 py-1 rounded-md bg-gray-200 hover:bg-gray-300",children:"전체"}),[{min:0,max:1},{min:1,max:3},{min:3,max:20}].map(e=>(0,n.jsxs)("button",{onClick:()=>t(e),className:"px-2 py-1 rounded-md bg-gray-200 hover:bg-gray-300",children:[e.min," ~ ",e.max]},JSON.stringify(e)))]})]})})};function y(e){return t=>{if(t)return Number(t).toLocaleString(void 0,{minimumFractionDigits:e,maximumFractionDigits:e})}}function g(e){if(e)return Math.round(Number(e)/1e8).toString()}function v(e){let{value:t,className:r,children:a}=e;return(0,n.jsx)("td",{className:(0,c.m6)("relative px-2 py-1 whitespace-nowrap w-max text-right text-sm text-gray-800",r),children:t&&a})}(a=s||(s={})).RealTime="realtime",a.OnTime="ontime",a.Outdated="outdated";let b=e=>{let{display:t,postfix:r,...a}=e;return(0,n.jsx)(v,{...a,children:(0,n.jsxs)("span",{children:[(0,n.jsx)("span",{children:t}),r&&(0,n.jsx)("span",{className:"text-xs",children:r})]})})},j=e=>{let t,{freshness:r,display:a,postfix:s,date:l,...i}=e;switch(r){case"realtime":t="기준일: 실시간(".concat(l,")");break;case"ontime":t="기준일: 전 영업일(".concat(l,")");break;case"outdated":t="기준일: 지연(".concat(l,")");break;default:t="기준일: ".concat(l)}return(0,n.jsx)(v,{...i,children:(0,n.jsxs)("span",{"data-freshness":r,className:"group data-[freshness=outdated]:line-through data-[freshness=outdated]:text-gray-400  data-[freshness=outdated]:hover:text-gray-600",children:[(0,n.jsx)("span",{children:a}),s&&(0,n.jsx)("span",{className:"text-xs",children:s}),(0,n.jsx)("span",{children:(0,n.jsx)("div",{className:"group-data-[freshness=realtime]:text-blue-700 group-data-[freshness=outdated]:text-red-600 absolute top-0 right-0 translate-x-full -translate-y-full text-xs bg-white px-2 py-1 rounded-md shadow-md w-max select-none invisible group-hover:visible",children:t})})]})})},N=e=>{let{display:t,...r}=e;return(0,n.jsx)(b,{...r,display:(0,n.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:"Link"})})},_=e=>{let{...t}=e;switch(t.column.selector){case"name":return(0,n.jsx)(b,{...t,className:(0,c.m6)("text-left tracking-tight",t.className)});case"credit_rating":return(0,n.jsx)(b,{...t,className:(0,c.m6)("text-left",t.className)});case"ytm":return(0,n.jsx)(j,{...t,display:y(2)(t.display),postfix:"%"});case"duration":case"nav":return(0,n.jsx)(j,{...t,display:y(2)(t.display)});case"marketcap":return(0,n.jsx)(b,{...t,display:(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>t.reduce((e,t)=>t(e),e)})(g,y(0))(t.display),postfix:"억"});case"price":return(0,n.jsx)(j,{...t,display:y(0)(t.display)});case"provider_info_url":case"general_info_url":return(0,n.jsx)(N,{...t});default:return(0,n.jsx)(b,{...t})}};function w(e,t,r){let a=e.find(e=>e.selector===t);a&&(a.className=r)}var k=e=>{let{columns:t,rows:r,sort:a,onSortToggle:s}=e;return w(t,"name","text-left"),w(t,"credit_rating","text-left"),(0,n.jsxs)("div",{className:"min-w-max min-h-sm-screen bg-gray-50",children:[(0,n.jsxs)("div",{className:"w-full h-44 flex flex-col gap-3 justify-center items-center bg-gray-900",children:[(0,n.jsx)("h1",{className:"text-6xl font-bold tracking-wide text-gray-50",children:"YTM Scanner"}),(0,n.jsx)("h2",{className:"text-xl font-medium tracking-wide text-gray-50",children:"YTM 스캐너 - 만기매칭형 채권 ETF YTM(만기수익률) 지금 비교해보세요!"})]}),(0,n.jsxs)("div",{className:"mx-auto my-10 px-5 w-full flex flex-col gap-5",children:[(0,n.jsx)(h,{}),(0,n.jsxs)("table",{className:"table-auto divide-y-2 divide-gray-200",children:[(0,n.jsxs)("caption",{className:"caption-top mb-2 ml-2 text-left font-coding text-xs text-gray-800",children:["총 ",r.length," 종목"]}),(0,n.jsx)("thead",{children:(0,n.jsx)("tr",{children:t.map((e,t)=>(0,n.jsxs)("th",{"data-sort":a.selector===e.selector,className:(0,c.m6)("px-2 py-1 w-max whitespace-nowrap text-right text-xs font-medium text-gray-600 uppercase tracking-wider select-none group hover:text-gray-900 hover:font-extrabold data-[sort=true]:text-gray-800 data-[sort=true]:font-extrabold",e.className),onClick:()=>s(e.selector),children:[e.display,(0,n.jsx)(i.G,{icon:a.selector===e.selector?a.asc?o.foy:o.u9C:o.CmM,className:"inline-block w-3 h-3 text-gray-500 group-data-[sort=true]:text-gray-800 group-hover:text-gray-900"})]},t))})}),(0,n.jsx)("tbody",{className:"divide-y divide-gray-200 font-coding",children:r.map((e,r)=>(0,n.jsx)("tr",{children:t.map((t,a)=>(0,n.jsx)(_,{column:t,row:e,...e[t.selector]},"".concat(r,"-").concat(a)))},r))})]}),(0,n.jsxs)("div",{className:"mt-10 ml-2 flex flex-col gap-5 text-gray-500 text-sm",children:[(0,n.jsx)("p",{children:"문의: carrotade.co@gmail.com"}),(0,n.jsxs)("div",{className:"text-xs text-gray-400",children:[(0,n.jsx)("p",{children:"YTM Scanner에서 제공하는 정보들은 참고용이며 그 정확성이나 완전성을 보장하지 않습니다."}),(0,n.jsx)("p",{children:"투자에 대한 모든 책임은 본인에게 있습니다."}),(0,n.jsx)("p",{children:"Copyright Carrotade All Rights Reserved."})]})]})]})]})},S=r(2333),C=r(7583);function T(e,t){return e.find(e=>e[t])}function M(e){return e}function O(e){let{base:t,attr:r,selector:a,value_converter:n=M,dest_attr:l=r}=e;if(!(null==t?void 0:t.dynamic))return;let i=a(t.dynamic,r);if(!(null==i?void 0:i[r]))return;let o=function(e){let t=C.ou.fromISO(e,{zone:"Asia/Seoul"}),r=t.toFormat("L월 d일"),a=s.Outdated;if(t.diffNow("days").days>-1)a=s.RealTime;else{let e;t.diff((7===(e=C.ou.local({zone:"Asia/Seoul"}).minus({days:1})).weekday?e=e.minus({days:2}):6===e.weekday&&(e=e.minus({days:1})),e),"days").days>-1&&(a=s.OnTime)}return{date:r,freshness:a}}(i.date);return{[l]:{...o,display:i[r],value:n(i[r])}}}function D(e){let{base:t,attr:r,value_converter:a=M,dest_attr:s=r}=e;if(!t)return;let n=t[r];if(n)return{[s]:{display:n,value:a(n)}}}function F(e,t){return"number"==typeof e&&"number"==typeof t?e-t:e.toString().localeCompare(t.toString())}let A={min:0,max:20},E=l.createContext({}),P=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return fetch(...t).then(e=>e.json())};var Y=()=>{let{data:e,error:t,isLoading:r}=(0,S.ZP)("https://carrotade.com/ytmscanner/generated/etf_details.json",P),[a,s]=(0,l.useState)([]),[i,o]=(0,l.useState)({selector:"marketcap",asc:!1}),[c,d]=(0,l.useState)(A);return(0,l.useEffect)(()=>{if(!e)return;let t=e.filter(e=>e.listed).map(e=>({name:{},...D({base:e,attr:"name"}),...O({base:e.provider,attr:"ytm",selector:T,value_converter:Number}),...O({base:e.provider,attr:"duration",selector:T,value_converter:Number}),...O({base:e.general,attr:"marketcap",selector:T,value_converter:Number}),...O({base:e.provider,attr:"price",selector:T,value_converter:Number}),...O({base:e.provider,attr:"nav",selector:T,value_converter:Number}),...D({base:e.provider,attr:"info_url",dest_attr:"provider_info_url"}),...D({base:e.general,attr:"info_url",dest_attr:"general_info_url"}),...D({base:e.basic,attr:"maturity"}),...D({base:e.basic,attr:"kind"}),...D({base:e.basic,attr:"credit_rating"})}));s([...t=t.filter(e=>{var t;let r=null===(t=e.duration)||void 0===t?void 0:t.value;return!r||"number"!=typeof r||r>=c.min&&r<=c.max})].sort((e,t)=>{var r,a;let s=null===(r=e[i.selector])||void 0===r?void 0:r.value,n=null===(a=t[i.selector])||void 0===a?void 0:a.value;return(i.asc?function(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:F(e,t)}:function(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:-F(e,t)})(s,n)}))},[e,c,i]),(0,n.jsx)(E.Provider,{value:{filterDuration:c,setFilterDuration:d},children:(0,n.jsx)(k,{columns:[{display:"Name",selector:"name"},{display:"YTM",selector:"ytm"},{display:"Nav",selector:"nav"},{display:"Price",selector:"price"},{display:"Dur",selector:"duration"},{display:"시가총액",selector:"marketcap"},{display:"만기",selector:"maturity"},{display:"운용사",selector:"provider_info_url"}],rows:a,sort:i,onSortToggle:e=>{o(t=>({selector:e,asc:t.selector===e&&!t.asc}))}})})}}},function(e){e.O(0,[676,854,971,472,744],function(){return e(e.s=2505)}),_N_E=e.O()}]);